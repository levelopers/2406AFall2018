let words_array = []
words_array = [{"text":"Sister","x":50,"y":50,"text_width":68.14695739746094},{"text":"Golden","x":128.14695739746094,"y":50,"text_width":85.96803283691406},{"text":"Hair","x":224.114990234375,"y":50,"text_width":48.88096618652344},{"text":"-America","x":282.99595642089844,"y":50,"text_width":106.65292358398438},{"text":"verse1:","x":50,"y":120,"text_width":87.42597961425781},{"text":"Well","x":50,"y":190,"text_width":51.35432434082031},{"text":"I","x":111.35432434082031,"y":190,"text_width":7.4069976806640625},{"text":"[E]","x":128.76132202148438,"y":160,"text_width":32.59599304199219},{"text":"tried","x":138.76132202148438,"y":190,"text_width":51.86198425292969},{"text":"to","x":200.62330627441406,"y":190,"text_width":22.2340087890625},{"text":"make","x":232.85731506347656,"y":190,"text_width":65.19198608398438},{"text":"it","x":308.04930114746094,"y":190,"text_width":13.329986572265625},{"text":"sunday","x":331.37928771972656,"y":190,"text_width":85.968017578125},{"text":"but","x":427.34730529785156,"y":190,"text_width":37.06101989746094},{"text":"I","x":474.4083251953125,"y":190,"text_width":7.4069976806640625},{"text":"[G#min]","x":491.81532287597656,"y":160,"text_width":93.33598327636719},{"text":"got","x":501.81532287597656,"y":190,"text_width":37.06101989746094},{"text":"so","x":548.8763427734375,"y":190,"text_width":28.156997680664062},{"text":"damned","x":587.0333404541016,"y":190,"text_width":96.34303283691406},{"text":"depressed","x":693.3763732910156,"y":190,"text_width":124.50001525878906},{"text":"That","x":50,"y":260,"text_width":53.34600830078125},{"text":"I","x":113.34600830078125,"y":260,"text_width":7.4069976806640625},{"text":"[A]","x":130.7530059814453,"y":230,"text_width":32.59599304199219},{"text":"set","x":140.7530059814453,"y":260,"text_width":35.563995361328125},{"text":"my","x":186.31700134277344,"y":260,"text_width":35.5379638671875},{"text":"sights","x":231.85496520996094,"y":260,"text_width":69.64398193359375},{"text":"on","x":311.4989471435547,"y":260,"text_width":29.654022216796875},{"text":"[E]","x":351.15296936035156,"y":230,"text_width":32.59599304199219},{"text":"monday","x":361.15296936035156,"y":260,"text_width":94.84600830078125},{"text":"and","x":465.9989776611328,"y":260,"text_width":44.48103332519531},{"text":"I","x":520.4800109863281,"y":260,"text_width":7.4069976806640625},{"text":"[G#min]","x":537.8870086669922,"y":230,"text_width":93.33598327636719},{"text":"got","x":547.8870086669922,"y":260,"text_width":37.06101989746094},{"text":"myself","x":594.9480285644531,"y":260,"text_width":77.02494812011719},{"text":"undressed","x":681.9729766845703,"y":260,"text_width":124.50001525878906},{"text":"I","x":50,"y":330,"text_width":7.4069976806640625},{"text":"ain't","x":67.40699768066406,"y":330,"text_width":48.07386779785156},{"text":"ready","x":125.48086547851562,"y":330,"text_width":66.68899536132812},{"text":"for","x":202.16986083984375,"y":330,"text_width":31.111984252929688},{"text":"the","x":243.28184509277344,"y":330,"text_width":37.06101989746094},{"text":"alter,","x":290.3428649902344,"y":330,"text_width":57.79798889160156},{"text":"but","x":358.14085388183594,"y":330,"text_width":37.06101989746094},{"text":"I","x":405.2018737792969,"y":330,"text_width":7.4069976806640625},{"text":"[C#min]","x":422.60887145996094,"y":300,"text_width":91.85197448730469},{"text":"do","x":432.60887145996094,"y":330,"text_width":29.654022216796875},{"text":"[G#min]","x":514.4608459472656,"y":300,"text_width":93.33598327636719},{"text":"believe","x":524.4608459472656,"y":330,"text_width":84.4840087890625},{"text":"there's","x":618.9448547363281,"y":330,"text_width":79.18585205078125},{"text":"[A]","x":708.1307067871094,"y":300,"text_width":32.59599304199219},{"text":"times","x":718.1307067871094,"y":330,"text_width":63.69496154785156},{"text":"When","x":50,"y":400,"text_width":69.64401245117188},{"text":"a","x":129.64401245117188,"y":400,"text_width":14.827011108398438},{"text":"[F#min]","x":154.4710235595703,"y":370,"text_width":88.88397216796875},{"text":"woman","x":164.4710235595703,"y":400,"text_width":85.94200134277344},{"text":"sure","x":260.41302490234375,"y":400,"text_width":51.86198425292969},{"text":"can","x":322.27500915527344,"y":400,"text_width":42.9840087890625},{"text":"[A]","x":375.25901794433594,"y":370,"text_width":32.59599304199219},{"text":"be","x":385.25901794433594,"y":400,"text_width":29.654022216796875},{"text":"a","x":424.9130401611328,"y":400,"text_width":14.827011108398438},{"text":"friend","x":449.74005126953125,"y":400,"text_width":66.68899536132812},{"text":"of","x":526.4290466308594,"y":400,"text_width":22.2340087890625},{"text":"[E]","x":558.6630554199219,"y":370,"text_width":32.59599304199219},{"text":"mine","x":568.6630554199219,"y":400,"text_width":57.78498840332031},{"text":"[Esus2]","x":636.4480438232422,"y":370,"text_width":88.90998840332031},{"text":"[E]","x":725.3580322265625,"y":370,"text_width":32.59599304199219},{"text":"","x":50,"y":470,"text_width":0}]

let array = words_array
array.sort(function (a,b) {
  return a.y-b.y
})

for (word of array) {
  word.y = ((word.y-50 )/70).toFixed(0)*70 + 50 //toFixed .5 round up
}

let l = 50
let txt = ''
let line = []
for (y_sorted_word of array) {

  if (y_sorted_word.y!=l) {  //next line first
    l = y_sorted_word.y


      line.sort(function (a,b) { //sort upper line
        return a.x-b.x
      })


      for (x_sorted_word of line) { //txt upper line
        txt += x_sorted_word.text + ' '
      }
      txt += '\n'  //add next line to upper line

    

    // lines.push(line)
    line = [] //clear upper line

    line.push(y_sorted_word) //push next line first into line

  }else{
    line.push(y_sorted_word)
  }
}
console.log(txt);
